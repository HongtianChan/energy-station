<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>鸿天惠</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'PingFang SC', 'Hiragino Sans GB', sans-serif;
      background: #f5f5f5;
      min-height: 100vh;
    }
    
    /* 顶部横幅 */
    .header {
      background: linear-gradient(135deg, #ff4d4d 0%, #ff6b35 100%);
      padding: 28px 20px 60px;
      text-align: center;
      color: #fff;
    }
    
    .header h1 {
      font-size: 22px;
      font-weight: 600;
      margin-bottom: 4px;
    }
    
    .header p {
      font-size: 13px;
      opacity: 0.9;
    }
    
    /* 主内容区 */
    .main {
      padding: 0 16px 16px;
      max-width: 480px;
      margin: 0 auto;
    }

    /* AI 助手区域 */
    .ai-section {
      margin-top: -36px;
      margin-bottom: 16px;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.08);
      overflow: hidden;
    }

    .ai-input-wrap {
      display: flex;
      align-items: center;
      padding: 12px 16px;
      gap: 10px;
    }

    .ai-label {
      flex-shrink: 0;
      background: linear-gradient(135deg, #ff4d4d, #ff6b35);
      color: #fff;
      font-size: 11px;
      font-weight: 600;
      padding: 4px 8px;
      border-radius: 6px;
      letter-spacing: 0.5px;
    }

    .ai-input {
      flex: 1;
      border: none;
      outline: none;
      font-size: 14px;
      color: #333;
      background: transparent;
      font-family: inherit;
    }

    .ai-input::placeholder {
      color: #bbb;
    }

    .ai-send {
      flex-shrink: 0;
      width: 32px;
      height: 32px;
      border: none;
      background: linear-gradient(135deg, #ff4d4d, #ff6b35);
      border-radius: 8px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: opacity 0.2s;
    }

    .ai-send:active {
      opacity: 0.8;
    }

    .ai-send svg {
      width: 16px;
      height: 16px;
      fill: #fff;
    }

    /* AI 回复区域 */
    .ai-reply {
      display: none;
      padding: 0 16px 14px;
    }

    .ai-reply.show {
      display: block;
    }

    .ai-reply-bubble {
      background: #f8f8f8;
      border-radius: 10px;
      padding: 12px 14px;
      font-size: 13px;
      color: #444;
      line-height: 1.6;
    }

    .ai-reply-bubble a {
      display: inline-block;
      margin-top: 8px;
      background: linear-gradient(135deg, #ff4d4d, #ff6b35);
      color: #fff;
      text-decoration: none;
      padding: 8px 20px;
      border-radius: 8px;
      font-size: 13px;
      font-weight: 500;
    }

    .ai-reply-bubble a:active {
      opacity: 0.85;
    }

    .typing-dot {
      display: inline-block;
      animation: blink 1.2s infinite;
    }
    .typing-dot:nth-child(2) { animation-delay: 0.2s; }
    .typing-dot:nth-child(3) { animation-delay: 0.4s; }

    @keyframes blink {
      0%, 60%, 100% { opacity: 0.2; }
      30% { opacity: 1; }
    }

    /* 服务网格 */
    .grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
    }
    
    .card {
      display: block;
      background: #fff;
      border-radius: 12px;
      padding: 20px 16px;
      text-decoration: none;
      box-shadow: 0 2px 8px rgba(0,0,0,0.06);
      transition: transform 0.2s;
    }
    
    .card:active {
      transform: scale(0.98);
    }
    
    .card-icon {
      width: 48px;
      height: 48px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 12px;
    }
    
    .card-icon.waimai { background: linear-gradient(135deg, #ff9500 0%, #ff5e00 100%); }
    .card-icon.dache { background: linear-gradient(135deg, #00c853 0%, #00a843 100%); }
    .card-icon.movie { background: linear-gradient(135deg, #7c4dff 0%, #536dfe 100%); }
    .card-icon.hotel { background: linear-gradient(135deg, #00bcd4 0%, #0097a7 100%); }
    
    .card-title {
      font-size: 16px;
      font-weight: 600;
      color: #333;
      margin-bottom: 4px;
    }
    
    .card-desc {
      font-size: 12px;
      color: #999;
    }
    
    .card-tag {
      display: inline-block;
      background: #fff3f0;
      color: #ff4d4d;
      font-size: 11px;
      padding: 2px 6px;
      border-radius: 4px;
      margin-top: 8px;
    }
    
    /* 底部 */
    .footer {
      text-align: center;
      padding: 24px 16px;
      color: #bbb;
      font-size: 12px;
    }

    .icon {
      width: 28px;
      height: 28px;
      fill: #fff;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>鸿天惠</h1>
    <p>日常消费，天天有惠</p>
  </div>

  <div class="main">
    <!-- AI 助手 -->
    <div class="ai-section">
      <div class="ai-input-wrap">
        <span class="ai-label">AI</span>
        <input class="ai-input" id="aiInput" type="text" placeholder="想吃啥？想去哪？说一句就行" enterkeyhint="send">
        <button class="ai-send" id="aiSend" aria-label="发送">
          <svg viewBox="0 0 24 24"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg>
        </button>
      </div>
      <div class="ai-reply" id="aiReply">
        <div class="ai-reply-bubble" id="aiReplyContent"></div>
      </div>
    </div>

    <!-- 服务网格 -->
    <div class="grid">
      <a href="https://xtc2aytt.jutuike.cn/#/pages/meituan/index?code=XTc2Aytt" class="card" data-key="waimai">
        <div class="card-icon waimai">
          <svg class="icon" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>
        </div>
        <div class="card-title">外卖红包</div>
        <div class="card-desc">美团 · 饿了么</div>
        <span class="card-tag">最高立减20元</span>
      </a>

      <a href="https://xtc2aytt.jutuike.cn/#/pages/didi/index?code=XTc2Aytt" class="card" data-key="dache">
        <div class="card-icon dache">
          <svg class="icon" viewBox="0 0 24 24"><path d="M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"/></svg>
        </div>
        <div class="card-title">打车优惠</div>
        <div class="card-desc">滴滴出行</div>
        <span class="card-tag">新人立减10元</span>
      </a>

      <a href="https://xtc2aytt.jutuike.cn/#/pages/movie/index?code=XTc2Aytt" class="card" data-key="movie">
        <div class="card-icon movie">
          <svg class="icon" viewBox="0 0 24 24"><path d="M18 4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4z"/></svg>
        </div>
        <div class="card-title">特惠电影</div>
        <div class="card-desc">低价票</div>
        <span class="card-tag">9.9元起</span>
      </a>

      <a href="https://xtc2aytt.jutuike.cn/#/pages/mtjd/mtjd?code=XTc2Aytt" class="card" data-key="hotel">
        <div class="card-icon hotel">
          <svg class="icon" viewBox="0 0 24 24"><path d="M7 13c1.66 0 3-1.34 3-3S8.66 7 7 7s-3 1.34-3 3 1.34 3 3 3zm12-6h-8v7H3V5H1v15h2v-3h18v3h2v-9c0-2.21-1.79-4-4-4z"/></svg>
        </div>
        <div class="card-title">酒店特价</div>
        <div class="card-desc">美团酒店</div>
        <span class="card-tag">低至5折</span>
      </a>
    </div>
  </div>

  <div class="footer">
    鸿天惠 · 日常消费，天天有惠
  </div>

  <script>
    // 服务配置
    const services = {
      waimai: {
        keywords: ['外卖', '吃', '饿', '午饭', '晚饭', '早餐', '夜宵', '奶茶', '咖啡', '火锅', '烧烤', '炸鸡', '汉堡', '披萨', '麻辣烫', '酸辣粉', '快餐', '便当', '饭', '面', '粉', '粥', '肯德基', '麦当劳', '瑞幸', '蜜雪', '喜茶', '点餐', '下单', '美团', '饿了么', '食', '餐'],
        url: 'https://xtc2aytt.jutuike.cn/#/pages/meituan/index?code=XTc2Aytt',
        reply: '想吃东西？先领个外卖红包再下单，最高能省 20 块。',
        btn: '领外卖红包'
      },
      dache: {
        keywords: ['打车', '出行', '出门', '滴滴', '车', '去', '回家', '上班', '机场', '火车站', '高铁', '赶路', '叫车', '网约车', '出租', '代驾'],
        url: 'https://xtc2aytt.jutuike.cn/#/pages/didi/index?code=XTc2Aytt',
        reply: '出门打车？先领个优惠券，新人最多省 10 块。',
        btn: '领打车券'
      },
      movie: {
        keywords: ['电影', '影院', '看电影', '影片', '票', '大片', '周末', '约会', '首映', 'imax', '3d'],
        url: 'https://xtc2aytt.jutuike.cn/#/pages/movie/index?code=XTc2Aytt',
        reply: '看电影？这里有特惠票，9.9 起。',
        btn: '买特惠电影票'
      },
      hotel: {
        keywords: ['酒店', '住', '民宿', '旅游', '旅行', '出差', '开房', '住宿', '宾馆', '度假', '订房'],
        url: 'https://xtc2aytt.jutuike.cn/#/pages/mtjd/mtjd?code=XTc2Aytt',
        reply: '订酒店？美团酒店特价低至 5 折，先看看有没有你要的。',
        btn: '看酒店特价'
      }
    };

    const input = document.getElementById('aiInput');
    const sendBtn = document.getElementById('aiSend');
    const replyBox = document.getElementById('aiReply');
    const replyContent = document.getElementById('aiReplyContent');

    function matchService(text) {
      text = text.toLowerCase();
      let best = null;
      let maxHits = 0;
      for (const [key, svc] of Object.entries(services)) {
        const hits = svc.keywords.filter(kw => text.includes(kw)).length;
        if (hits > maxHits) {
          maxHits = hits;
          best = key;
        }
      }
      return best;
    }

    function showTyping() {
      replyBox.classList.add('show');
      replyContent.innerHTML = '<span class="typing-dot">.</span><span class="typing-dot">.</span><span class="typing-dot">.</span>';
    }

    function showReply(svc) {
      if (svc) {
        const s = services[svc];
        replyContent.innerHTML = s.reply + '<br><a href="' + s.url + '">' + s.btn + '</a>';
      } else {
        replyContent.innerHTML = '没太听懂，你可以直接点下面的卡片，或者换个说法试试？比如「想吃外卖」「要打车」。';
      }
    }

    function handleSend() {
      const text = input.value.trim();
      if (!text) return;

      showTyping();

      const matched = matchService(text);

      // 模拟思考延迟
      setTimeout(() => {
        showReply(matched);

        // 如果匹配到，高亮对应卡片
        document.querySelectorAll('.card').forEach(c => c.style.transform = '');
        if (matched) {
          const card = document.querySelector('.card[data-key="' + matched + '"]');
          if (card) {
            card.style.transform = 'scale(1.03)';
            card.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            setTimeout(() => card.style.transform = '', 2000);
          }
        }
      }, 600 + Math.random() * 400);
    }

    sendBtn.addEventListener('click', handleSend);
    input.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') handleSend();
    });
  </script>
</body>
</html>
